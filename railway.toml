[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "/entrypoint.sh pocketpaw"
healthcheckPath = "/"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Railway supports a single volume per service.
[[deploy.volumes]]
mountPath = "/home/pocketpaw/data"

[deploy.env]
PYTHONUNBUFFERED = "1"
ANTHROPIC_BASE_URL = "https://api.kimi.com/coding/"
HOME = "/home/pocketpaw/data"
POCKETPAW_DATA_DIR = "/home/pocketpaw/data"
POCKETPAW_WEB_HOST = "0.0.0.0"
POCKETPAW_LOCALHOST_AUTH_BYPASS = "false"
POCKETPAW_SHELL_CWD = "/home/pocketpaw/data/projects"
POCKETPAW_TOOL_PROFILE = "coding"
POCKETPAW_TOOL_WHITELIST = "shell,gmail,imap,playwright"
POCKETPAW_PLAN_MODE = "true"
POCKETPAW_GUARDIAN_LEVEL = "HIGH"
POCKETPAW_CLAUDE_CODE_ENABLED = "true"
POCKETPAW_CLAUDE_CODE_PATH = "/usr/local/bin/claude"
